"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[9818],{119:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/success-a8e5cb970d3502494e4b1f8d7a8168ca.png"},923:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/modifyPath-1ad6c392f175d29a4b38ff4f52801d4f.png"},1259:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/setPath-845fe16210aade1ab4dabe636e85121a.png"},1915:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"flutter/how-to-generate-release-apks","title":"How to generate release apks","description":"How to generate release apks","source":"@site/docs/flutter/how-to-generate-release-apks.md","sourceDirName":"flutter","slug":"/flutter/how-to-generate-release-apks","permalink":"/my-docs/docs/flutter/how-to-generate-release-apks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"How to generate release apks"},"sidebar":"docs","previous":{"title":"Get Privacy-Policy URL for PlayStore","permalink":"/my-docs/docs/flutter/get-privacy-policy-url-for-playstore"},"next":{"title":"How to solve Data Safety issue in Play Store?","permalink":"/my-docs/docs/flutter/how-to-solve-data-safety-issue-in-play-store"}}');var o=n(4848),t=n(8453);const i={title:"How to generate release apks"},a=void 0,l={},d=[{value:"How to generate release apks",id:"how-to-generate-release-apks",level:2},{value:"1. Create an upload keystore",id:"1-create-an-upload-keystore",level:3},{value:"2. Reference the keystore from the app",id:"2-reference-the-keystore-from-the-app",level:3},{value:"3. Copy below code, Paste in to key.propertirs file and change as per shown in image.",id:"3-copy-below-code-paste-in-to-keypropertirs-file-and-change-as-per-shown-in-image",level:3},{value:"4. Configure signing in gradle",id:"4-configure-signing-in-gradle",level:3},{value:"5. Run following commands in Terminal as per your need:",id:"5-run-following-commands-in-terminal-as-per-your-need",level:3}];function c(e){const s={code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h2,{id:"how-to-generate-release-apks",children:"How to generate release apks"}),"\n",(0,o.jsx)(s.h3,{id:"1-create-an-upload-keystore",children:"1. Create an upload keystore"}),"\n",(0,o.jsx)(s.p,{children:"Running the following at the command line:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["On Mac/Linux, use the following command:","\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n"})}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["On Windows, use the following command:","\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"keytool -genkey -v -keystore c:\\Users\\USER_NAME\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.img,{alt:"eShop",src:n(923).A+"",width:"1920",height:"1080"}),"\n",(0,o.jsx)(s.img,{alt:"eShop",src:n(5657).A+"",width:"1920",height:"1080"}),"\n",(0,o.jsx)(s.img,{alt:"eShop",src:n(119).A+"",width:"1920",height:"1080"})]}),"\n",(0,o.jsx)(s.h3,{id:"2-reference-the-keystore-from-the-app",children:"2. Reference the keystore from the app"}),"\n",(0,o.jsx)(s.p,{children:"Create a file named [project]/android/key.properties that contains a reference to your keystore:"}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"eShop",src:n(7462).A+"",width:"1320",height:"845"})}),"\n",(0,o.jsx)(s.h3,{id:"3-copy-below-code-paste-in-to-keypropertirs-file-and-change-as-per-shown-in-image",children:"3. Copy below code, Paste in to key.propertirs file and change as per shown in image."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"storePassword=<password from previous step>\nkeyPassword=<password from previous step>\nkeyAlias=upload \nstoreFile=location of the key store file, such as /Users/user name/upload-keystore.jks\n"})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"eShop",src:n(1259).A+"",width:"1920",height:"1080"})}),"\n",(0,o.jsx)(s.h3,{id:"4-configure-signing-in-gradle",children:"4. Configure signing in gradle"}),"\n",(0,o.jsx)(s.p,{children:"Configure gradle to use your upload key when building your app in release mode by editing the [project]/android/app/build.gradle file."}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Add the below keystore information from your properties file before the android block:","\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"def keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"eShop",src:n(4459).A+"",width:"1920",height:"1080"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Find the buildTypes block, and replace it with the following signing configuration info:","\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"signingConfigs {\nrelease {\nkeyAlias keystoreProperties['keyAlias']\nkeyPassword keystoreProperties['keyPassword']\nstoreFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\nstorePassword keystoreProperties['storePassword']\n}\n}\nbuildTypes {\nrelease {\nsigningConfig signingConfigs.release\n}\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"eShop",src:n(6128).A+"",width:"1920",height:"1080"})}),"\n",(0,o.jsx)(s.h3,{id:"5-run-following-commands-in-terminal-as-per-your-need",children:"5. Run following commands in Terminal as per your need:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["To generate an APK: ",(0,o.jsx)(s.code,{children:"flutter build apk"})]}),"\n",(0,o.jsxs)(s.li,{children:["To generate an App Bundle: ",(0,o.jsx)(s.code,{children:"flutter build appbundle"})]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"eShop",src:n(2487).A+"",width:"1920",height:"1080"})})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},2487:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/generateAPK-5d76605e051579a93f9a5ae27e8fe2b8.png"},4459:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/codeBlock1-3576da6e04b31b060aac3b6a44aa086a.png"},5657:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/remeberPassword-5aecf93edd44da22771a96d27c18f8cf.png"},6128:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/codeBlock2-83b17f0499b9160099d3c50bea7ed2e9.png"},7462:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/createfile-0bd4a6b3d368faeebfc153d73072d1cd.png"},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>a});var r=n(6540);const o={},t=r.createContext(o);function i(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);